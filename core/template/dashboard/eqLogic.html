<div class="eqLogic-widget eqLogic" style="max-width : 250px;max-height : 830px;border:#border#;border-radius:#border-radius#;background-color: #background-color#;color: #color#;#style#;height : 830px;" data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" >
  
  <link rel="stylesheet" href="plugins/aTVremote/core/template/dashboard/css/style.css" />


  	<a class="power cmd turn_on" data-cmd_id="#cmd_turn_on_id#" title="Off"><img src='plugins/aTVremote/core/template/dashboard/images/Off1.png' style="width:40px"/></a>
	<a class="power cmd turn_off" data-cmd_id="#cmd_turn_off_id#" title="On"><img src='plugins/aTVremote/core/template/dashboard/images/On1.png' style="width:40px"/></a>
  
  	<a class="btn_aTVremote_refresh cmd refresh" data-cmd_id="#cmd_refresh_id#" title='Rafraichir' ><img class="aTVremote_refresh"  src='plugins/aTVremote/core/template/dashboard/images/repeat.png' style="width:20px;position : absolute;right :4px;top : 4px;font-size : 0.9em; z-index:6; opacity:0.1;"/></a>
 	
  	<div class="haut_aTVremote_widget" >
      	
		<a href="#eqLink#" class="titre_haut_aTVremote_widget" style="#hideEqLogicName#;"><i class='fab fa-apple'></i>&nbsp;#name_display#</a>

      	<br>
  		<br>
		<div class="jaquette2_aTVremote">
			<a class="affiche2_premiere_aTVremote" ><center>#artwork_url#</center></a>
           	<a class="affiche2_deuxieme_aTVremote" ><center>#artwork_url#</center></a>
           	<a class="affiche2_troisieme_aTVremote" ><center>#artwork_url#</center></a>
		</div>
		<div>
			<p><a class="Statut_aTVremote noRefresh" style="text-decoration: none; cursor:default;" title="Statut">#play_human#</a></p><br>          
          	<p class="app_hide"><a class="app_aTVremote noRefresh" style="text-decoration: none; cursor:default;" title="App"><span id="sum"></span></a><br></p>
          
			<center><p class="artist_hide"><a class="artist_titre_aTVremote noRefresh" style="text-decoration: none; cursor:default;" title="Artist"> #artist# </a></p></center>
			<center><p class="album_hide"><a class="album_titre_aTVremote noRefresh" style="text-decoration: none; cursor:default;" title="Album"> #album# </a></p></center>
			<center><p class="titre_hide"><a class="titre_titre_aTVremote noRefresh" style="text-decoration: none; cursor:default;" title="Titre"> #title# </a></p></center>

			<p class="info_hide"><a class="last_aTVremote noRefresh" style="text-decoration: none; cursor:default;" title="Genre - Type Média"><marquee  direction="left" behavior="scroll" scrollamount="1" scrolldelay="60" width="140px" hspace=55px loop=0 onmouseover="stop();" onmouseout="start();"><span>#genre#&emsp;-&emsp;#media_type#&emsp;-&emsp;#position#</span></marquee></a><br></p>
          
          
			<div style="display: block; margin-left : 35px;" class="playback">
				<a class="btn_aTVremote_playback cmd previous" data-cmd_id="#cmd_previous_id#" title='Précédent'><img src='plugins/aTVremote/core/template/dashboard/images/skip_backward.png' style="width:40px"/></a>
				<a class="btn_aTVremote_playback cmd play" data-cmd_id="#cmd_play_id#" title='Lecture'><img src='plugins/aTVremote/core/template/dashboard/images/play.png' style="width:40px"/></a>
				<a class="btn_aTVremote_playback cmd pause" data-cmd_id="#cmd_pause_id#" title='Pause'><img src='plugins/aTVremote/core/template/dashboard/images/pause-1.png' style="width:40px"/></a>
				<a class="btn_aTVremote_playback cmd stop" data-cmd_id="#cmd_stop_id#" title='Stop'><img src='plugins/aTVremote/core/template/dashboard/images/stop-1.png' style="width:40px"/></a>
				<a class="btn_aTVremote_playback cmd next" data-cmd_id="#cmd_next_id#" title='Suivant'><img src='plugins/aTVremote/core/template/dashboard/images/skip_forward.png' style="width:40px"/></a>
			</div>
        <br> 
			<div style="display: block;margin-left : 78px;" class="menu_action">			
				<a class="btn_aTVremote_menu cmd menu" data-cmd_id="#cmd_menu_id#" title='Menu'><img src='plugins/aTVremote/core/template/dashboard/images/menu2.png' style="width:40px;"/></a>
				<a class="btn_aTVremote_top_menu cmd top_menu" data-cmd_id="#cmd_top_menu_id#" title='Home'><img src='plugins/aTVremote/core/template/dashboard/images/monitor.png' style="width:40px;"/></a>	
			</div>
		<br> 
			<div style="display: block;" class="navigation">
              	
				<a class="btn_aTVremote_up cmd up" data-cmd_id="#cmd_up_id#" title='Haut' ><img class="aTVremote_up" src='plugins/aTVremote/core/template/dashboard/images/play.png' style="width:40px;margin-left : 100px;"/></a>              	
        		<br><br>
				<a class="btn_aTVremote_left cmd left" data-cmd_id="#cmd_left_id#" title='Gauche'><img class="aTVremote_left" src='plugins/aTVremote/core/template/dashboard/images/play.png' style="width:40px;margin-left : 35px;"/></a>
				<a class="btn_aTVremote_select cmd select" data-cmd_id="#cmd_select_id#" title='Ok'><img src='plugins/aTVremote/core/template/dashboard/images/select.png' style="width:40px;margin-left : 21.5px;"/></a>
				<a class="btn_aTVremote_right cmd right" data-cmd_id="#cmd_right_id#" title='Droite'><img src='plugins/aTVremote/core/template/dashboard/images/play.png' style="width:40px;margin-left : 21.5px;"/></a>
      			<br><br>
				<a class="btn_aTVremote_down cmd down" data-cmd_id="#cmd_down_id#" title='Bas'><img class="aTVremote_down" src='plugins/aTVremote/core/template/dashboard/images/play.png' style="width:40px;margin-left : 100px;"/></a>
			</div>
          	<br>
          	<div style="display: block;margin-left : 78px;" class="fonction">
              	<a class="btn_aTVremote_shuffle cmd set_shuffle_on" data-cmd_id="#cmd_set_shuffle_on_id#" title='Aléa.Off'><img src='plugins/aTVremote/core/template/dashboard/images/shuffle_off.png' style="width:40px;"/></a>
				<a class="btn_aTVremote_shuffle cmd set_shuffle_off" data-cmd_id="#cmd_set_shuffle_off_id#" title='Aléa.On'><img src='plugins/aTVremote/core/template/dashboard/images/shuffle.png' style="width:40px;"/></a> 
				<a class="btn_aTVremote_repeat cmd set_repeat_all" data-cmd_id="#cmd_set_repeat_all_id#" title='Rep.Off'><img src='plugins/aTVremote/core/template/dashboard/images/repeat_off.png' style="width:40px;"/></a>
				<a class="btn_aTVremote_repeat cmd set_repeat_track" data-cmd_id="#cmd_set_repeat_track_id#" title='Rep.Tout'><img src='plugins/aTVremote/core/template/dashboard/images/repeat_all.png' style="width:40px;"/></a>
				<a class="btn_aTVremote_repeat cmd set_repeat_off" data-cmd_id="#cmd_set_repeat_off_id#" title='Rep.Piste'><img src='plugins/aTVremote/core/template/dashboard/images/repeat_1.png' style="width:40px;;"/></a>
            </div>
		</div>
	</div>

    <script> 
      	if('#play_state#' == ''){
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_off').hide(1);
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_track').hide(1);
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_shuffle_on').hide(1);
        }
		      
        if('#power_state#' == 1){
			$('.eqLogic[data-eqLogic_id=#id#] .cmd.turn_on').hide(1);
		}else if('#power_state#' == 0){
			$('.eqLogic[data-eqLogic_id=#id#] .cmd.turn_off').hide(1);
		}else{
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.turn_on').hide(1);
            $('.eqLogic[data-eqLogic_id=#id#] .cmd.turn_off').hide(1);
          	//$('.app_aTVremote').remove();
          	$('.app_aTVremote').slideToggle(1);
        };
        if("#artist#"!='-'){}else{$('.artist_hide').slideToggle(1);};
        if("#album#"!='-'){}else{$('.album_hide').slideToggle(1);};
      	if('#title#'!='-'){}else{$('.titre_hide').slideToggle(1);};
      	
      	//if(("#title#"=='-')&&("#album#"=='-')&&("#artist#"=='-')){$('.hide').slideToggle(1);}
      
      
		if('#play_state#' == 1){
			$('.eqLogic[data-eqLogic_id=#id#] .cmd.play').hide(1);
		}else{
			$('.eqLogic[data-eqLogic_id=#id#] .cmd.pause').hide(1);
		};
      
		$('.eqLogic[data-eqLogic_id=#id#] .cmd').on('click', function() {
			jeedom.cmd.execute({id: $(this).data('cmd_id')});
		});
      
      	if('#repeat#'== 'Piste'){
        	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_all').hide(1);
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_track').hide(1);    
        }else if('#repeat#'== 'Tout'){
        	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_all').hide(1);
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_off').hide(1);           	
        }else if('#repeat#'== 'Non'){
        	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_off').hide(1);
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_repeat_track').hide(1);        
        };
      	
      	if('#shuffle#'== 'Non'){
        	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_shuffle_off').hide(1);   
        }else if('#shuffle#'== 'Songs'){
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_shuffle_on').hide(1);          	
        }else if('#shuffle#'== 'Albums'){
          	$('.eqLogic[data-eqLogic_id=#id#] .cmd.set_shuffle_on').hide(1);        
        };
      
      	var str_app = '#app#';
      	//document.getElementById("sum").innerHTML=somme;
		var app_split = str_app.split(['.']);
      	var app_final = app_split[2];
      	if ('#app#' != "-"){document.getElementById("sum").innerHTML=app_final;}else{$('.app_hide').slideToggle(1);};
      	
      	
      	var time = '#position#';
      	var split_time = time.split(['/']);
      	var current_time = split_time[0];
      	var total_time = split_time[1];   	
      
        var maxBar = total_time;
        var currentBar = current_time;
        var progressBar;
        var intervalId;
        
        /**var initialisation = function {
          progressBar = document.getElementById("progessBar");
          progressBar.max = maxBar;
          progressBar.value = currentBar;
        }
      
        var displayBar = function {
          progressBar.value = currentBar;
        }**/
     
    </script>
</div>